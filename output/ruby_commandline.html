<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ruby in the Backend Development Textbook</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

  <link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
  <link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shThemeRailsGuides.css" />

  <link rel="stylesheet" type="text/css" href="stylesheets/fixes.css" />

  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <style>

    .slide img[src$=svg] {
      width: 100%;
    }
  </style>
</head>
<body class="guide">
  <div>
    <a href="https://github.com/backend-development/backend-development-textbook/"><img style="position: fixed; top: 0; right: 0; border: 0; z-index: 10;" src="images/forkme.png" alt="Fork me on GitHub"></a>
  </div>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">More Rails: </strong>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://guides.rubyonrails.org/">Rails Guides</a></li>
        <li class="more-info"><a href="https://curriculum.railsbridge.org/docs/">Railsbridge</a></li>
        <li class="more-info"><a href="https://railscasts.com/">Railscasts</a></li>
      </ul>
      <strong class="more-info-label">Beyond Backend: </strong>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="https://web-engineering.github.io/">Web Engineering</a></li>
      </ul>      
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Return to home page">Backend<span> Development</span></a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="index.html">Home</a></li>
        <li class="guides-index guides-index-large">
          <a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu" class="guides-index-item nav-item">Index  &#x25BC;</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
              <dl class="L">
                <dt>Ruby on Rails</dt>
                <dd><a href="ruby_commandline.html">Ruby Commandline</a></dd>
                <dd><a href="rails_database_and_model.html">Database and Models</a></dd>
                <dd><a href="rails_associations_and_validations.html">Associations and Validations</a></dd>
                <dd><a href="rails_view_and_controller.html">Routing, View and Controller</a></dd>
                <dd><a href="rails_authentication.html">Authentication</a></dd>
                <dd><a href="asset_pipeline.html">Asset Pipeline</a></dd>
                <dd><a href="javascript_and_ajax.html">Javascript and AJAX</a></dd>
                <dd><a href="testing.html">Getting started with Testing</a></dd>
                <dd><a href="rails_gems.html">Ruby Gems for your Rails Project</a></dd>
                <dd><a href="apis.html">APIs</a></dd>
                <dd><a href="rails_websockets.html">Websocket in Rails</a></dd>
                <dd><a href="refactoring_rails.html">Refactoring Rails</a></dd>
                <dt>Overarching Concerns</dt>
                <dd><a href="security.html">Security</a></dd>
                <dd><a href="caching.html">Caching</a></dd>
                <dd><a href="advanced_testing.html">Advanced Testing</a></dd>
                <dd><a href="internationalization.html">Internationalization (I18n)</a></dd>
              </dl>
              <dl class="R">
                <dt>Nodes.js</dt>
                <dd><a href="node_vs_rails.html">Node vs. Rails</a></dd>
                <dd><a href="node_basics.html">Node Basics</a></dd>
                <dd><a href="node_websockets.html">Node Websockets</a></dd>
                <dd><a href="node_express.html">Node Web App</a></dd>
                <dd><a href="node_cluster.html">Scaling Node</a></dd>
              </dl>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2 id="preheader">Ruby</h2>
                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
            <ol class="chapters">
<li>
<a href="#what-is-ruby">What is Ruby</a>

<ul>
<li><a href="#what-is-ruby-on-rails">What is ruby on rails</a></li>
<li><a href="#why-ruby-questionmark-why-rails-questionmark">Why Ruby? Why Rails ?</a></li>
</ul>
</li>
<li>
<a href="#ruby-basics">Ruby Basics</a>

<ul>
<li><a href="#some-code-conventions">Some code conventions</a></li>
<li><a href="#strings">Strings</a></li>
<li><a href="#boolean-values">Boolean Values</a></li>
<li><a href="#shorthand-version-of-conditions">Shorthand version of Conditions</a></li>
<li><a href="#boolean-operators">Boolean Operators</a></li>
</ul>
</li>
<li>
<a href="#the-save-navigation-operator">The 'Save Navigation' Operator</a>

<ul>
<li><a href="#symbols">Symbols</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#arrays">Arrays</a></li>
</ul>
</li>
<li>
<a href="#hashes">Hashes</a>

<ul>
<li><a href="#implicit-form">Implicit Form</a></li>
</ul>
</li>
<li>
<a href="#enumerables-and-piping-data">Enumerables and Piping Data</a>

<ul>
<li><a href="#piping-data">"Piping Data"</a></li>
<li><a href="#piping-data-in-ruby">Piping Data in Ruby</a></li>
</ul>
</li>
<li>
<a href="#blocks">Blocks</a>

<ul>
<li><a href="#my-function-takes-a-block-of-code">My Function takes a Block of Code</a></li>
</ul>
</li>
<li>
<a href="#summary">Summary</a>

<ul>
<li><a href="#online-resources">Online Resources</a></li>
<li><a href="#books">Books</a></li>
</ul>
</li>
</ol>

          </div>

      <div class="rest_header">
        <h2>Ruby</h2><p>This guide will focus on ruby - the language - alone.</p><p>After finishing this guide you will</p>
<ul>
<li>have an overview of rubys type system</li>
<li>be able to use list processing functions in ruby</li>
<li>be able to use blocks and <code>yield</code> in ruby.</li>
</ul>
<div class="repo"><p>Fork the <a href="https://github.com/backend-development/learn_ruby">learn_ruby</a> repository to try some test driven ruby learning</p></div>
      </div>
    </div>
  </div>


  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <div class='slide'><a id='slide-1'></a>
</div>
<div class='slide'>
<a class='slide_break' id='slide-1' href='slides_ruby_commandline.html#slide-1'>▻</a>
<h3 id="what-is-ruby">1 What is Ruby</h3>
<p><img src="images/Ruby_logo.png" alt="Ruby Logo"></p>
<p>Ruby is an open source project.  It was started
in 1996 by Yukihiro 'Matz' Matsumoto. He is still
the "benevolent dictator" who decides on the future of the language.</p>
<p>In a colossal break with tradition he did not
choose a name starting with p for his scripting language
(think perl, python, php) but opted for r instead.</p>
<p>Ruby is a thoroughly object oriented scripting language.
Even basic data types are object:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
1.to_s
=&gt; "1"

</pre>
</div>
<p>In this example the number 1 is used as an object, the method <code>to_s</code> is
called on it.  The result is an Object of class String.</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-2' href='slides_ruby_commandline.html#slide-2'>▻</a>
<h4 id="what-is-ruby-on-rails">1.1 What is ruby on rails</h4>
<p><img src="images/Ruby_on_Rails_logo.png" alt="Ruby on Rails Logo"></p>
<p>Ruby on Rails is a web framework written in ruby.
It was created by David Heinemeier Hansson ('DHH') starting in 2005.</p>
<p>Rails is famous for the high productivity it gives to developers. It
is often used in startups, where speed of delivery is very important.
Rails moves fast, new versions with major improvement appear about every 18
months.  The rails community values speed of development, DRY code, testing,
version control, ... when you learn rails you also pick up a whole culture
surrounding it.</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-3' href='slides_ruby_commandline.html#slide-3'>▻</a>
<h4 id="why-ruby-questionmark-why-rails-questionmark">1.2 Why Ruby? Why Rails ?</h4>
<p>Why should you use Ruby and Rails over other programming languages
and frameworks?  </p>
<ul>
<li>Because you want to be a highly productive web developer?</li>
<li>Because you want to learn from the best?</li>
<li>Because you want try out many different languages and many frameworks?</li>
</ul>
<p>All these answers are equally valid.</p>
<p>Also, there are cool t-shirts:</p>
<p><img src="images/ruby-and-rails-t-shirts.png" alt="Ruby and Rails T-Shirts"></p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-4' href='slides_ruby_commandline.html#slide-4'>▻</a>
<h3 id="ruby-basics">2 Ruby Basics</h3>
<p>To get to know ruby you don't need to write
whole programes.  You can start out with <strong>interactive ruby - irb</strong>.
When you start irb you get a command line to type in ruby code. When
you press enter the code is evaluted immediatly and you get the result.
Use the commands <code>exit</code> or <code>quit</code> or the key combination CONTROL-D to get out.</p>
<p>In this guide we will show code run in irb by marking the prompt as <code>&gt;&gt;</code> and
the result as <code>=&gt;</code>, for example:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; 2 + 2
=&gt; 4

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-5' href='slides_ruby_commandline.html#slide-5'>▻</a>
<h4 id="some-code-conventions">2.1 Some code conventions</h4>
<p>Try to stick to <a href="https://github.com/styleguide/ruby">github's style for ruby</a>. </p>
<p>When you chose names for your objects, classes and methods
you should stick to the following conventions to avoid
confusing other ruby developers:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
the_variable = SomeClass.new
             # variables are written in snake_case
             # classes in capital CamelCase

             # method names are written in snake_case
a = b.sugar  # a method the returns something
b.sweet?     # a method that returns true or false
             # ends in a question mark
b.sugar!     # a method that changes its object
             # ends in an exclamation mark

</pre>
</div>
<p>In the last two examples the punctuation marks are really
part of the method names!</p>
<p>The parantheses around the arguments of a method are optional.
Leave them off unless your code get's confusing:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
puts("less code")
puts "less code"

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-6' href='slides_ruby_commandline.html#slide-6'>▻</a>
<h2>Data Types</h2>
<p>All of rubys basic data types are Classes.  </p>
<ul>
<li>nil</li>
<li>Numeric, Integer, Fixnum, Bignum, Float <code># are converted automatically to each other</code>
</li>
<li>Ranges</li>
<li>String</li>
<li>true  <code># TrueClass</code>
</li>
<li>false <code># FalseClass</code>
</li>
<li>Symbol</li>
<li>Array</li>
<li>Hash</li>
<li>Object</li>
<li>Regex</li>
</ul>
<p>Ruby is strict about data types, there is no automatic conversion except
between numeric types.</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; "a string" + "another"
=&gt; "a stringanother"

&gt;&gt; "a string" + 2
TypeError: no implicit conversion of Fixnum into String

&gt;&gt; 42 + 3.141
=&gt; 45.141

</pre>
</div>
<p>Everything is an Object, even Integers and Strings.
They have methods and properties, like other objects:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; nil.class
=&gt; NilClass

&gt;&gt; 2.class
=&gt; Fixnum

&gt;&gt; "some text".length
=&gt; 9

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-7' href='slides_ruby_commandline.html#slide-7'>▻</a>
<h4 id="strings">2.2 Strings</h4>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
s = 'just a string of characters'
s = "string with #{the_variable} embedded"
s = "string with #{a+b/c} a ruby expression embedded"
s = &lt;&lt;EOM
This is a so called "Here-Document"
it can contain many lines of text
and ends with the identifier EOM (that i chose!)
but only if it's alone on a line all by itself:
EOM

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-8' href='slides_ruby_commandline.html#slide-8'>▻</a>
<h4 id="boolean-values">2.3 Boolean Values</h4>
<p>In ruby only <code>false</code> and <code>nil</code> are treated as false. This might
be confusing for programmers used to other languages with
more complex rules for truthyness:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
if 0
  puts '0 is true!'
end
if "false"
  puts '"false" (the string) is true'       
end

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-9' href='slides_ruby_commandline.html#slide-9'>▻</a>
<h4 id="shorthand-version-of-conditions">2.4 Shorthand version of Conditions</h4>
<p>The two conditions shown in the last
code block only have one statement inside
the block.  </p>
<p>This can also be written in another way by
appending the condition to the statement,
like so:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
puts '0 is true!' if 0
puts '"false" (the string) is true' if "false"

</pre>
</div>
<p>This syntax should be familiar to you if
you understand english.  (yes, that's an english
sentence using the same syntax).</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-10' href='slides_ruby_commandline.html#slide-10'>▻</a>
<h4 id="boolean-operators">2.5 Boolean Operators</h4>
<p>When ruby evaluates a boolean operator,
it does as little work as possible.  It
stops evaluation as soon as the result is clear:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
# the second argument is not evaluated!
a =  true || ...
a = false &amp;&amp; ...

</pre>
</div>
<p>The boolean operators don't just return true or
false, they return the argument last evaluated.
This is often used to set a variable:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
default_value = "gray"
input_value = nil
# here input_value might be set...
a = input_value || default_value

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-11' href='slides_ruby_commandline.html#slide-11'>▻</a>
<h3 id="the-save-navigation-operator">3 The 'Save Navigation' Operator</h3>
<p>Imagine you have an Object a, that has a property b containing
another object, and b has a property c.  You can access c through <code>a.b.c</code></p>
<p>But if a is <code>nil</code> then you will get an error:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt; a.b.c
NoMethodError: undefined method `b' for nil:NilClass

</pre>
</div>
<p>The Operator <code>&amp;.</code> avoids this error:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt; a&amp;.b&amp;.c
nil

</pre>
</div>
<p>The Operator was introduced in Ruby 2.3.0 is is called
"save navigation operator" or sometimes "lonely operator".</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-12' href='slides_ruby_commandline.html#slide-12'>▻</a>
<h4 id="symbols">3.1 Symbols</h4>
<p>A Symbol looks - at first glance - similar to a string: you can
invent it at any time (no 'declaration') and give it any name:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
a = :foo
a = :bar

s = "foo"
s = "bar"

</pre>
</div>
<p>But: there is always just one instance of a symbol while
there can be several strings that have the same content, but are different objects:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; :foo.object_id
=&gt; 635528
&gt;&gt; :foo.object_id
=&gt; 635528
&gt;&gt; "foo".object_id
=&gt; 70099463087600
&gt;&gt; "foo".object_id
=&gt; 70099463106400

</pre>
</div>
<p>Use symbols where you would enums in a database or another language,
or if you need distinct constants, when the value is not important.</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-13' href='slides_ruby_commandline.html#slide-13'>▻</a>
<h4 id="methods">3.2 Methods</h4>
<p>Methods in ruby return the last expression - even
if no explicit <code>return</code> statement is given.</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
def f(a,b)
  "x"
end

f(1,42)  # returns "x"

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-14' href='slides_ruby_commandline.html#slide-14'>▻</a>
<h4 id="arrays">3.3 Arrays</h4>
<p>There are several ways of writing literal arrays in ruby.
The first one looks like JSON:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; a = ["this", "that", "something"]
=&gt; ["this", "that", "something"]

</pre>
</div>
<p>For creating an array of words (strings without whitespace in them)
you can use <code>%w</code>:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; a = %w(this that something)
=&gt; ["this", "that", "something"]

</pre>
</div>
<p>When creating an array of consecutive numbers you can
use a Range and convert it to an Array:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; (1..4).to_a
=&gt; [1, 2, 3, 4]

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-15' href='slides_ruby_commandline.html#slide-15'>▻</a>
<h3 id="hashes">4 Hashes</h3>
<p>A Hash is a datastructure similar to an array. An array uses integers as keys
while a Hash allows any type as the keys. Mostly strings and symbols are used:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
h = Hash.new
h["alice"] = "beer"
h["chris"] = "tea"
h["bob"] = "mate"

</pre>
</div>
<p>But you can use other objects:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
t = Date.new
h[t] = "recently"

</pre>
</div>
<p>The data structure behind a ruby Hash is more complex
than an array: The key is sent though a function  (called hash function)
that returns a number. This number is used as the index
for an array.  If the hash function for two keys is the
same a linked list is built.</p>
<p><img src="images/hash_table.svg" alt="How Hash(tabl)es work"></p>
<p>This datastructure seems like an serious waste of memory
at first. But it offers the following intresting features:</p>
<ul>
<li>looking up a key can be accomplished in constant time</li>
<li>inserting a new key / value pair can be accomplished in constant time</li>
</ul>
<p>Most scripting languages offer Hashes as a basic data type,
most compiled languages as a library.  Read more about
Hashes in Wikipedia:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Hash_table">Hashtables in Wikipedia</a></li>
</ul>
<p>(If you don't know what "in constant time" means above, you
should learn more about the analysis of algorithms. e.g. by
taking a algorithms and data strcture course as offered in the second
semester of most computer science programs.</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-16' href='slides_ruby_commandline.html#slide-16'>▻</a>
<h4 id="implicit-form">4.1 Implicit Form</h4>
<p>A Hash can be created by using its "implicit form":</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
roomnumber = { "Jane Doe" =&gt; 10, "Jim Doe" =&gt; 6 }

</pre>
</div>
<p>Since Ruby 1.9.3 Hashes allow an alternate syntax when the keys are symbols. Instead of</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
style = { :font_size =&gt; 10, :font_family =&gt; "Arial" }

</pre>
</div>
<p>you could write this  in  a JSON-like way:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
style = { font_size: 10, font_family: "Arial" }

</pre>
</div>
<p>This style of hash is often used as an argument for a method.
Calling the method then reads like named arguments:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
def apply_the_style( h )
  ...
end

apply_the_style(font_size: 10, font_family: "Arial")
apply_the_style font_size: 10, font_family: "Arial"

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-17' href='slides_ruby_commandline.html#slide-17'>▻</a>
<h3 id="enumerables-and-piping-data">5 Enumerables and Piping Data</h3>
<p>When working with a list of values ruby
helps you think about data on a new, more abstract level
with Enumerables:</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-18' href='slides_ruby_commandline.html#slide-18'>▻</a>
<h4 id="piping-data">5.1 "Piping Data"</h4>
<p>From the UNIX shell you may know the concept of piping data
from one command to the next:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
# many httpd processes are running. as which user(s) ?
#
$ ps aux | grep httpd | cut -c1-8 | sort | uniq

</pre>
</div>
<p>Each of those programs reads data from "Standard Input" and
writes data to "Standard Output".  The vertical bar symbol (called "pipe") takes
the output of the preceding program and sends it input the next
program.  The data in question is plain text, consisting
of several lines.</p>
<p>Try it out on your commmand line by building up
the pipe step by step:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
$ ps aux | less
$ ps aux | grep httpd | less
$ ps aux | grep httpd | cut -c1-8 | less
$ ps aux | grep httpd | cut -c1-8 | sort | less
$ ps aux | grep httpd | cut -c1-8 | sort | uniq | less

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-19' href='slides_ruby_commandline.html#slide-19'>▻</a>
<h4 id="piping-data-in-ruby">5.2 Piping Data in Ruby</h4>
<p>When piping data in ruby you can start with
an Array</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
languages = %w[Fortran Ada C C++ Java Scala Haskell]
languages.sort.first(3)

</pre>
</div>
<p>The elements of the array are piped into the sort-method, which again outputs a list
of elements. Theses are piped into first, which only returns the first three and discards
the rest. The result is a list of 3 elements.</p>
<p>Here are some simple methods you can use on Arrays (and other Enumerables)
that return a new Enumerable.  You can connect theses methods to each other:</p>
<ul>
<li>sort</li>
<li>first(n)</li>
<li>drop(n)</li>
<li>last(n)</li>
<li>grep(/pattern/)</li>
<li>chunk(method)</li>
<li>reverse</li>
</ul>
<p>Some other methods return just a single value, and thus end the pipe:</p>
<ul>
<li>count</li>
<li>count("only this exact value")</li>
<li>max</li>
<li>min</li>
</ul>
<p>More advanced methods take a Block (of code) as their argument.
The method <code>map</code> applys the Block to each piece of data, and
returns an Enumerable of the new data:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; (1..10).map{ |x| 2*x }
=&gt; [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

&gt;&gt; (1..10).map{ |x| 2*x }.reverse
=&gt; [20, 18, 16, 14, 12, 10, 8, 6, 4, 2]

</pre>
</div>
<p>If the computation is more complex you can write
the Block on several lines, ending with <code>end</code></p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
&gt;&gt; (1..10).map do |x|
?&gt;   x*2
&gt;&gt; end
=&gt; [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

&gt;&gt; (1..10).map do |x|
?&gt;   x*2
&gt;&gt; end.reverse
=&gt; [20, 18, 16, 14, 12, 10, 8, 6, 4, 2]

</pre>
</div>
<p>Some other methods for Enumerables that take a Block:</p>
<ul>
<li>
<code>map {|x|</code> new value computed from x <code>}</code>
</li>
<li>
<code>select {|x|</code> should x be selected? <code>}</code>
</li>
<li><code>reduce(:+)</code></li>
<li>
<code>reduce{|memo, item|</code> compute new value for memo, using current item <code>}</code>
</li>
</ul>
<p>These methods should help you avoid loops and thus simplify
code considerably.</p>
<p>Read the Reference on</p>
<ul>
<li><a href="https://ruby-doc.org/core-2.5.3/Enumerable.html">Enumerable</a></li>
<li><a href="https://ruby-doc.org/core-2.5.3/Array.html">Array</a></li>
</ul>
</div>
<div class='slide'>
<a class='slide_break' id='slide-20' href='slides_ruby_commandline.html#slide-20'>▻</a>
<h3 id="blocks">6 Blocks</h3>
<p>Blocks of code are not just used in Enumerables, they are
a basic building block of ruby.  You can write functions
that take a Block as an argument:</p>
</div>
<div class='slide'>
<a class='slide_break' id='slide-21' href='slides_ruby_commandline.html#slide-21'>▻</a>
<h4 id="my-function-takes-a-block-of-code">6.1 My Function takes a Block of Code</h4>
<p>Any function you write can take an addictional block
of code as its last argument.  The block is only
called if and when you call <code>yield</code> inside the function:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
def my_function_with_block_arg
  puts "code in the funtion"
  yield
  puts "more code in the function"
end

my_function_with_block_arg { puts "code in the block" }

# OUTPUT:
# code in the funtion
# code in the block
# more code in the function

</pre>
</div>
<p>There is an alternate syntax for calling the function: instead
of the curly braces you can use <code>do</code> and  <code>end</code>:</p>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
my_function_with_block_arg do
  puts "code in the block"
  puts "more code in the block"
end

</pre>
</div>
</div>
<div class='slide'>
<a class='slide_break' id='slide-22' href='slides_ruby_commandline.html#slide-22'>▻</a>
<h3 id="summary">7 Summary</h3>
<p>You now know about the basic data types, about enumerables and about blocks -<br>
features that distinguish ruby from other scripting languages. </p>
<p>If you want to get more pracitical with ruby, you can
do the 
<a href="https://github.com/backend-development/learn_ruby">Learn Ruby</a> test driven ruby exercises.</p>
<p>This should be a good enough basis to start with Rails.<br>
But do take every
oppertunity you get to learn more about Ruby itself: if you are unsure about
a line of code, look it up in the Ruby documentation and use the
opportunity to read a bit more than strictly necessary.</p>
<p>Get an offline version of the documentation
installed on your development machine so you can look up stuff instantly.</p>
<ul>
<li>Mac Tool <a href="https://kapeli.com/dash">Dash</a> for keeping offline copies of documentation</li>
</ul>
</div>
<div class='slide'>
<a class='slide_break' id='slide-23' href='slides_ruby_commandline.html#slide-23'>▻</a>
<h4 id="online-resources">7.1 Online Resources</h4>
<ul>
<li><a href="https://ruby.github.io/TryRuby/">try ruby</a></li>
<li><a href="http://rubylearning.com/satishtalim/tutorial.html">learningruby.com tutorial</a></li>
</ul>
</div>
<div class='slide'>
<a class='slide_break' id='slide-24' href='slides_ruby_commandline.html#slide-24'>▻</a>
<h4 id="books">7.2 Books</h4>
<ul>
<li>Flanagan, Matsumoto(2008): <a href="https://www.amazon.com/Ruby-Programming-Language-David-Flanagan/dp/0596516177">The Ruby Programming Language</a>. O'Reilly. ISBN 0596516177.</li>
<li>Thomas(2013): <a href="https://www.amazon.com/Programming-Ruby-1-9-2-0-Programmers/dp/1937785491/">Programming Ruby 1.9 + 2.0</a>. Pragmatic Porgrammers. ISBN 1937785491</li>
<li>Olsen (2011): <a href="https://www.amazon.com/Eloquent-Ruby-Addison-Wesley-Professional/dp/0321584104/">Eloquent Ruby</a>. Addison-Wesley. ISBN 0321584104</li>
<li>Tate(2010): <a href="https://www.amazon.com/Seven-Languages-Weeks-Programming-Programmers/dp/193435659X/">Seven Languages in Seven Weeks: A Pragmatic Guide to Learning Programming Languages</a>. Pragmatic Programmers.  ISBN 193435659X</li>
</ul>
</div>        
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p class="copyright">published under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/at/deed.de">creative commons by-nc-sa</a> in 2012-2016 by <a href="https://brigitte-jellinek.at">Brigitte Jellinek</a>.
      </p><p>If you want to contribute: <a href="https://github.com/backend-development/backend-development-textbook/fork">fork the source on github</a>
        and edit <a href="https://github.com/backend-development/backend-development-textbook/blob/master/source/ruby_commandline.md">ruby_commandline.md</a>
      </p>
    </div>
  </div>

  <script src="javascripts/jquery.min.js"></script>
  <script src="javascripts/responsive-tables.js"></script>
  <script src="javascripts/guides.js"></script>
  <script src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script>
    SyntaxHighlighter.all()
    $(guidesIndex.bind);
    $(document).ready(function(){
      let hash = document.location.hash;
      if(! hash) return;
      document.getElementById(hash.substr(1)).scrollIntoView(true);
    })
  </script>
  </body>
</html>
